!function(e,t,i){if(wp.customize.bind("preview-ready",function(){wp.customize.preview.bind("edit_module",function(e){i.has(e,"id")&&t('[data-module-id="'+e.id+'"]').length&&t("html, body").animate({scrollTop:t('[data-module-id="'+e.id+'"]').offset().top-50},"slow")}),wp.customize.preview.bind("start_hovering_module",function(e){if(i.has(e,"id")&&t('[data-module-id="'+e.id+'"]').length){var n=t('[data-module-id="'+e.id+'"]'),s=n.outerWidth(),r=n.outerHeight();n.closest(".czr-sektion").find(".czr-hover-placeholder").each(function(){t(this).remove()}),t.when(n.append(t("<div/>",{class:"czr-hover-placeholder",style:"width:"+s+"px;height:"+r+"px;line-height:"+r+"px;",html:'<i class="material-icons">create</i>'}))).done(function(){t(".czr-hover-placeholder").css("opacity",1).fitText(.3,{minFontSize:"50px",maxFontSize:"100px"})})}}),wp.customize.preview.bind("stop_hovering_module",function(e){if(i.has(e,"id")&&t('[data-module-id="'+e.id+'"]').length){var n=t('[data-module-id="'+e.id+'"]');t.when(n.find(".czr-hover-placeholder").fadeOut(200)).done(function(){n.find(".czr-hover-placeholder").remove()})}})}),serverPreviewParams&&!serverPreviewParams.preview_ready_event_exists)try{e.czr_preview=new e.CZR_preview}catch(e){console.log("new api.CZR_preview() => error => ",e)}else e.bind("preview-ready",function(){e.preview.bind("active",function(){try{e.czr_preview=new e.CZR_preview}catch(e){console.log("new api.CZR_preview() => error => ",e)}})});var n={setting_cbs:{},subsetting_cbs:{},input_cbs:{},initialize:function(){var e=this;this.pre_setting_cbs=i.extend(e.pre_setting_cbs,e.getPreSettingCbs()),this.setting_cbs=i.extend(e.setting_cbs,e.getSettingCbs()),this.subsetting_cbs=i.extend(e.subsetting_cbs,e.getSubSettingCbs()),this.input_cbs=i.extend(e.input_cbs,e.getInputCbs()),this.syncData(),this.addCbs(),t("body").removeClass("wp-customizer-unloading")},getPreSettingCbs:function(){return{}},getSettingCbs:function(){return{}},getSubSettingCbs:function(){return{}},getInputCbs:function(){return{}},syncData:function(){e.preview.send("czr-query-data-ready",e.settings.czr_wpQueryInfos),e.preview.send("houston-widget-settings",i.extend(_wpWidgetCustomizerPreviewSettings,{availableWidgetLocations:i.values(e.settings.availableWidgetLocations)})),e.preview.send("czr-partial-refresh-data","undefined"==typeof _customizePartialRefreshExports?{}:_customizePartialRefreshExports.partials)},addCbs:function(){var t=this;e.preview.bind("pre_setting",function(n){var s=(n=n||{}).set_id;if(e.has(t._build_setId(s))){var r=t._get_option_name(n.set_id);i.has(t.pre_setting_cbs,r)&&i.isFunction(t.pre_setting_cbs[r])&&t.pre_setting_cbs[r](n)}}),i.each(t.setting_cbs,function(n,s){e.has(t._build_setId(s))&&i.isFunction(t.setting_cbs[s])&&e(t._build_setId(s)).bind(t.setting_cbs[s])}),e.preview.bind("sub_setting",function(e){var n=t._get_option_name(e.set_id);i.has(t.subsetting_cbs,n)&&i.has(t.subsetting_cbs[n],e.changed_prop)&&t.subsetting_cbs[n][e.changed_prop](e)}),e.preview.bind("czr_input",function(e){e=i.extend({set_id:"",module_id:"",item_id:"",input_id:"",value:null},e);var n=t._get_option_name(e.set_id);i.has(t.input_cbs,n)&&i.has(t.input_cbs[n],e.input_id)&&t.input_cbs[n][e.input_id](e)}),e.selectiveRefresh.bind("partial-content-rendered",function(n){if(i.has(n,"partial")&&i.has(n.partial,"id")){n.partial.id;e.preview.send("czr-partial-refresh-done",{set_id:t._build_setId(n.partial.id)})}})},_build_setId:function(e){if(i.isEmpty(window.themeServerPreviewParams))return e;if(!i.isArray(themeServerPreviewParams.wpBuiltinSettings)||i.contains(themeServerPreviewParams.wpBuiltinSettings,e))return e;var t=themeServerPreviewParams.themeOptionsPrefix;return i.isEmpty(t)?e:-1==e.indexOf(t)?[t+"[",e,"]"].join(""):e},_get_option_name:function(e){if(i.isEmpty(window.themeServerPreviewParams))return e;var t=themeServerPreviewParams.themeOptionsPrefix;if(i.isEmpty(t))return e;return e.replace(/\[|\]/g,"").replace(t,"")},_is_external:function(e){var i=t.trim(e),n=location.host.split(".").slice(-2).join("."),s=new RegExp(n);if(""!==i&&"#"!=i&&_isValidURL(i))return!s.test(i)},_isValidURL:function(e){return/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)}};e.CZR_preview=e.Class.extend(n)}(wp.customize,jQuery,_);